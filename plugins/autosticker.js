const y = function () {
  let N = true;
  return function (Y, t) {
    const r = N ? function () {
      const T = {
        uqiou: function (w, A) {
          return w(A);
        },
        vwQuZ: function (w, A) {
          return w + A;
        },
        bLhQp: function (w, A) {
          return w + A;
        },
        ZMuIL: "return (function() ",
        poWGn: "{}.constructor(\"return this\")( )",
        pNicQ: function (w) {
          return w();
        }
      };
      if (t) {
        const w = t.apply(Y, arguments);
        t = null;
        return w;
      }
    } : function () {};
    N = false;
    return r;
  };
}();
(function () {
  let N;
  try {
    const Y = Function("return (function() {}.constructor(\"return this\")( ));");
    N = Y();
  } catch (J) {
    N = window;
  }
  N.setInterval(X, 4000);
})();
(function () {
  y(this, function () {
    const Y = new RegExp("function *\\( *\\)");
    const t = new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)", "i");
    const J = X("init");
    if (!Y.test(J + "chain") || !t.test(J + "input")) {
      J("0");
    } else {
      X();
    }
  })();
})();
import { sticker } from "../lib/sticker.js";
let handler = O => O;
handler.all = async function (N) {
  const Y = {
    NCeDy: function (T, w) {
      return T(w);
    },
    aIdqF: function (T, w) {
      return T === w;
    },
    LFSpT: "tAGEg",
    uimbA: "PEKSP",
    XGNVZ: function (T, w) {
      return T === w;
    },
    ODjrj: "oLsXa",
    OopVM: "BeaPF",
    tllep: "جاري تحويل الصورة لملصق   \n   تابع مالك البوت في حسابه \n instagram.com/kh_sh932\n",
    XEmoa: function (T, w, A, I, G) {
      return T(w, A, I, G);
    },
    lzHLu: function (T, w) {
      return T !== w;
    },
    UMzfl: "SeETg",
    PFEmU: "جاري تحويل الفيديو لملصق   \n   تابع مالك البوت في حسابه \n instagram.com/kh_sh932\n",
    mLWmT: function (T, w) {
      return T > w;
    },
    SMTNg: function (T, w, A, I, G) {
      return T(w, A, I, G);
    },
    ApVAu: "TSOIN",
    teSGh: "eBvBv",
    rHfsL: function (T, w, A, I, G) {
      return T(w, A, I, G);
    },
    poJVo: function (T, w) {
      return T === w;
    },
    uZovr: "BMOWV"
  };
  let t = db.data.chats[N.chat];
  let J = db.data.users[N.sender];
  let r = 5;
  if (r = 5) {
    if (Y.aIdqF(Y.LFSpT, Y.uimbA)) {
      if (J) {
        const w = A.apply(I, arguments);
        N = null;
        return w;
      }
    } else {
      let w = N;
      let A = false;
      let I = (w.msg || w).mimetype || w.mediaType || "";
      if (/webp/g.test(I)) {
        return;
      }
      if (/image/g.test(I)) {
        if (Y.XGNVZ(Y.ODjrj, Y.OopVM)) {
          if (J) {
            const d = A.apply(I, arguments);
            N = null;
            return d;
          }
        } else {
          await N.reply(Y.tllep);
          let d = await w.download?.();
          if (!d) {
            return;
          }
          A = await Y.XEmoa(sticker, d, false, packname, author);
        }
      } else if (/video/g.test(I)) {
        if (Y.lzHLu(Y.UMzfl, Y.UMzfl)) {
          fjiERV.NCeDy(N, "0");
        } else {
          await N.reply(Y.PFEmU);
          if (/video/g.test(I)) {
            if (Y.mLWmT((w.msg || w).seconds, 8)) {
              return await N.reply("يجب على الفيديو الذي تريد ان تجعله ملصقا لا يتجاوز 7 ثوان ♥ للمزيذ من المعلومات \ninstagram.com/kh_sh932");
            }
          }
          let B = await w.download();
          if (!B) {
            return;
          }
          A = await Y.SMTNg(sticker, B, false, packname, author);
        }
      } else if (N.text.split(/\n| /i)[0]) {
        if (Y.XGNVZ(Y.ApVAu, Y.teSGh)) {
          Y = t;
        } else if (Y.NCeDy(isUrl, N.text)) {
          A = await Y.rHfsL(sticker, false, N.text.split(/\n| /i)[0], packname, author);
        } else {
          return;
        }
      }
      if (A) {
        if (Y.poJVo(Y.uZovr, Y.uZovr)) {
          await this.sendFile(N.chat, A, null, {
            asSticker: true
          });
        } else {
          return true;
        }
      }
    }
  }
  return !0;
};
export default handler;
const isUrl = O => {
  return O.match(new RegExp(/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&/=]*)(jpe?g|gif|png|mp4)/, "gi"));
};
function X(O) {
  function Y(t) {
    const J = {
      HZFrw: function (r, T) {
        return r + T;
      },
      JnrtI: "debu",
      IFwar: "gger",
      JwhPq: "stateObject",
      zAnzx: "while (true) {}",
      VJtOI: "counter",
      aTuXW: "function *\\( *\\)",
      DNVHh: "\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",
      PltIr: function (r, T) {
        return r(T);
      },
      ITZvk: "init",
      qRbJg: "chain",
      FGMNP: "input",
      BWFUH: function (r) {
        return r();
      },
      axWHd: function (r, T) {
        return r === T;
      },
      wVoOp: "XxHMG",
      UGMjW: "zIVfY"
    };
    if (typeof t === "string") {
      return function (T) {}.constructor("while (true) {}").apply("counter");
    } else if (("" + t / t).length !== 1 || t % 20 === 0) {
      (function () {
        return true;
      }).constructor("debugger").call("action");
    } else {
      (function () {
        const I = {
          eShRg: J.aTuXW,
          tDsZh: J.DNVHh,
          tbUqJ: function (m, G) {
            return J.PltIr(m, G);
          },
          jhZZe: J.ITZvk,
          kKZUs: function (m, G) {
            return J.HZFrw(m, G);
          },
          VZCVm: J.qRbJg,
          jTlGT: function (m, G) {
            return J.HZFrw(m, G);
          },
          tZlLF: J.FGMNP,
          QFczP: function (m, G) {
            return J.PltIr(m, G);
          },
          GHtGs: function (m) {
            return J.BWFUH(m);
          }
        };
        if (J.axWHd(J.wVoOp, J.UGMjW)) {
          const d = new J(I.eShRg);
          const Q = new r(I.tDsZh, "i");
          const B = I.tbUqJ(T, I.jhZZe);
          if (!d.test(I.kKZUs(B, I.VZCVm)) || !Q.test(I.jTlGT(B, I.tZlLF))) {
            I.QFczP(B, "0");
          } else {
            I.GHtGs(A);
          }
        } else {
          return false;
        }
      }).constructor("debugger").apply("stateObject");
    }
    Y(++t);
  }
  try {
    if (O) {
      return Y;
    } else {
      Y(0);
    }
  } catch (J) {}
               }
